{% extends "layout.html" %}

{% block content %}
	<div class="z-[100] relative ml-auto mr-auto max-w-[75rem] 2xl:max-w-[100rem] overflow-hidden mx-auto grid sm:grid-cols-1 lg:grid-cols-12 gap-5 mt-8">
		<div class="col-span-9 flex flex-col">
			<div class=" background-color rounded-tr-lg rounded-tl-lg border border-main h-fit py-4 px-8">
				<p class="text-4xl main-header text-center text-white lg:text-left mt-4">
					{{ category.name }}
				</p>
				{% if category.description != "" %}
				<p class="text-lg opacity-80 text-white">
					{{ category.description|raw }}
				</p>
				{% endif %}
			</div>
			<div class="background-color rounded-br-lg rounded-bl-lg border-main border-b border-r border-l h-fit py-4 px-4">
				<div class="p-3">
					{% if category.packages|length > 0 %}
					<div class="grid grid-cols-1 lg:grid-cols-2 gap-5">
							{% if category.displayType == "list" %}
						{% for package in category.packages %}
						<div class="w-full h-full rounded-lg border border-main input-background flex flex-col items-center relative justify-center hover:cursor-pointer hover:input-background-hover duration-100">
							<a href="javascript:void(0);" data-remote="/package/{{ package.id }}" class="toggle-modal w-full h-full flex flex-col gap-8 items-center justify-center relative">
							{% if onSaleTag and package.discount.applied %}
							<div class="flex absolute right-5 top-5 rounded-full h-[26px] w-fit space-x-1 px-3 py-0.5 text-sm items-center justify-between gap-2 border text-red-300 bg-red-800 border-red-500">
								<div class="flex flex-row flex-1 gap-2 items-center justify-center text-sm main-header">
									{{ __("On Sale") }}
									<div class="relative flex h-2 w-2">
                                <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-300 opacity-75">

                                </span>
										<span class="relative inline-flex rounded-full h-2 w-2 bg-red-300">

                                </span>
									</div>
								</div>
							</div>
							{% endif %}
							<div class="px-6 py-8 w-full h-full flex flex-col gap-8 rounded-b-lg">
								<div class="flex justify-between gap-5 flex-row text-white main-header text-base">
									<div class="text-white">{{ package.name[:20] }}</div>
									<div class="opacity-70 text-right">
										{% if package.customPrice == false and package.price > 0 %}
										{% if package.discount.applied %}
										<span class="line-through opacity-70">{{ package.discount.original|money }}</span>
										{% endif %}
										{{ package.price|money }} {{ basket.currency }}
										{% endif %}
									</div>
								</div>

								{% if package.basket %}
								<a href="/checkout/packages/remove/{{ package.id }}" class="btn btn-sm btn-danger btn-block">{{ __("Remove") }}</a>
								{% else %}
								<a href="javascript::void(0);" class="h-full text-gray-900 bg-gradient-to-r from-teal-200 to-lime-200 hover:bg-gradient-to-l hover:from-teal-200 hover:to-lime-200 focus:ring-4 focus:outline-none focus:ring-lime-200 dark:focus:ring-teal-700 main-header text-lg rounded-lg text-sm py-3 px-5 text-center">{{ __("Buy") }}</a>
								{% endif %}

							</div>
							</a>
						</div>
						{% endfor %}
							{% else %}
								{% for package in category.packages %}
									<div class="w-full h-[20rem] rounded-lg border border-main input-background flex flex-col items-center gap-8 pt-8 relative hover:cursor-pointer hover:input-background-hover duration-100">
										<a href="javascript:void(0);" data-remote="/package/{{ package.id }}" class="toggle-modal w-full h-full flex flex-col gap-8 items-center justify-center">
										{% if onSaleTag and package.discount.applied %}
										<div class="flex absolute right-5 top-5 rounded-full h-[26px] w-fit space-x-1 px-3 py-0.5 text-sm items-center justify-between gap-2 border text-red-300 bg-red-800 border-red-500">
											<div class="flex flex-row flex-1 gap-2 items-center justify-center text-sm main-header">
												{{ __("On Sale") }}
												<div class="relative flex h-2 w-2">
                                <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-red-300 opacity-75">

                                </span>
													<span class="relative inline-flex rounded-full h-2 w-2 bg-red-300">

                                </span>
												</div>
											</div>
										</div>
										{% endif %}
										<img src="{{ package.image.url }}" class="w-14 h-14" title="{{ __("Click for more details") }}" />
										<div class="bg-[#1a1a26] w-full h-full bg-opacity-60 flex flex-col justify-center items-center rounded-b-lg">
											<div class="px-6 py-8 w-full flex flex-col gap-8">
												<div class="flex justify-between gap-4 flex-row text-white main-header text-base">
													<div class="text-white">{{ package.name[:20] }}</div>
													<div class="opacity-70 text-right">
														{% if package.customPrice == false and package.price > 0 %}
														{% if package.discount.applied %}
														<span class="line-through opacity-70">{{ package.discount.original|money }}</span>
														{% endif %}
														{{ package.price|money }} {{ basket.currency }}
														{% endif %}
													</div>
												</div>

												{% if package.basket %}
												<a href="/checkout/packages/remove/{{ package.id }}" class="btn btn-sm btn-danger btn-block">{{ __("Remove") }}</a>
												{% else %}
												<a href="javascript::void(0);" class="h-full text-gray-900 bg-gradient-to-r from-teal-200 to-lime-200 hover:bg-gradient-to-l hover:from-teal-200 hover:to-lime-200 focus:ring-4 focus:outline-none focus:ring-lime-200 dark:focus:ring-teal-700 main-header text-lg rounded-lg text-sm py-3 px-5 text-center">{{ __("Buy") }}</a>
												{% endif %}

											</div>
										</div>

										</a>
									</div>
								{% endfor %}
							{% endif %}
					</div>
					{% else %}
					<div class="text-xl font-bold text-red-500 flex flex-row gap-2 items-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-7 text-red-500 h-7">
						<path stroke-linecap="round" stroke-linejoin="round" d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
					</svg>
						<span>{{ __("No packages to display in this category.") }}</span></div>
					{% endif %}
				</div>
			</div>
		</div>
		<!--<div class="content">
			{% if category.description != "" %}
				<div class="panel panel-default">
					<div class="panel-heading">{{ category.name }}    
					<div class="cart"><a href="/checkout/basket"><i class="fas fa-shopping-basket"></i> Cart</a> </div></div>
					<div class="panel-body">
						{{ category.description|raw }}
					</div>
				</div>
			{% endif %}
			<div class="panel panel-default">
				{% if category.description == "" %}
					<div class="panel-heading">{{ category.name }}
					<div class="cart"><a href="/checkout/basket"><i class="fas fa-shopping-basket"></i> Cart</a></div>
					</div>
				{% endif %}
				<div class="panel-body">
					{% if category.packages|length > 0 %}
					    <div class="category">
    						{% if category.displayType == "list" %}
                                <div class="packages-row">
                                    <table class="table table-hover table-striped">
    							        <tbody>
        									{% for package in category.packages %}
        									    <tr>
                                                  <td class="name">{{ package.name }} {% if package.countdownEnds %}<span class="text-danger">&nbsp;&nbsp;<i class="fa fa-clock-o"></i> <span class="countdown-to" data-countdown="{{ package.countdownEnds }}">{{ __("Ending Soon!") }}</span></span>{% endif %}</td>
                                                  <td class="price">
                                                    {% if package.customPrice == false and package.price > 0 %}
        						                        {% if package.discount.applied %}
        						                  		    <span class="discount">{{ package.discount.original|money }}</span>
        						                  		{% endif %}
        												{{ package.price|money }} <small>{{ basket.currency }}</small>
        											{% endif %}
                                                  </td>
                                                  <td class="button">
                                                    {% if package.basket %}
        					                  			<a href="/checkout/packages/remove/{{ package.id }}" class="btn btn-sm btn-danger btn-block">{{ __("Remove") }}</a>
        					                  		{% else %}
        											    <a href="javascript::void(0);" data-remote="/package/{{ package.id }}" class="btn btn-sm btn-info btn-block toggle-modal">{{ __("Buy") }}</a>
        											{% endif %}
                                                  </td>
                                                </tr>
        									{% endfor %}
    							        </tbody>
    						        </table>
    						    </div>
    						{% else %}
    						    <div class="packages-image">
        							{% for package in category.packages %}
        							    <div class="package">
                                            <div class="image">
                                                <a href="javascript:void(0);" data-remote="/package/{{ package.id }}" class="toggle-modal">
                                                    <img src="{{ package.image.url }}" class="toggle-tooltip {% if package.image.borderless %}img-rounded{% else %}img-thumbnail{% endif %}" title="{{ __("Click for more details") }}" />
                                                </a>
                                            </div>
                                            <div class="info">
                                              <div class="text">
                                                <div class="name">{{ package.name[:20] }}
                                                   {% if package.countdownEnds %}<br /><span class="text-danger"><i class="fa fa-clock-o"></i> <span class="countdown-to" data-countdown="{{ package.countdownEnds }}">{{ __("Ending Soon!") }}</span></span>{% endif %}
                                                </div>
                                                <div class="price">
                                                    {% if package.customPrice == false and package.price > 0.00 %}
        												{% if package.discount.applied %}
        				                  					<span class="discount">{{ package.discount.original|money }}</span>
        				                  				{% endif %}
        												{{ package.price|money }} <small>{{ basket.currency }}</small>
        											{% endif %}
        										</div>
                                              </div>
                                              <div class="button">
                                                {% if package.basket %}
        		                  					<a href="/checkout/packages/remove/{{ package.id }}" class="btn btn-sm btn-danger btn-block">{{ __("Remove") }}</a>
        		                  				{% else %}
        											<a href="javascript::void(0);" data-remote="/package/{{ package.id }}" class="btn btn-sm btn-info btn-block toggle-modal">{{ __("Buy") }}</a>
        										{% endif %}
                                              </div>
                                            </div>
                                        </div>
        							{% endfor %}
        						</div>
    						{% endif %}
    					</div>
					{% else %}
						{{ __("No packages to display in this category.") }}
					{% endif %}
				</div>
			</div>
		</div>
		-->
		<div class="col-start-10 col-span-full flex flex-col gap-5">
			{{ modules|raw }}
		</div>
	</div>
{% endblock %}